<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contests - KEMETION Fantasy Cricket</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="header-container">
      <a href="/" class="logo">
        üèè KEMETION
      </a>
      <div class="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <nav>
        <a href="/">Home</a>
        <a href="/pages/contests.html">Contests</a>
        <a href="/pages/leaderboard.html">Leaderboard</a>
        <a href="/pages/how-to-play.html">How to Play</a>
      </nav>
      <div class="nav-buttons"></div>
    </div>
  </header>

  <!-- ALERT CONTAINER -->
  <div id="alert-container" style="position: fixed; top: 80px; right: 20px; z-index: 999; max-width: 400px;"></div>

  <!-- HERO SECTION -->
  <section style="background: linear-gradient(135deg, var(--primary-blue) 0%, var(--dark-blue) 100%); color: white; padding: 60px 20px; text-align: center;">
    <div class="container">
      <h1 style="font-size: 36px; margin-bottom: 20px;">Fantasy Cricket Contests</h1>
      <p style="font-size: 18px; opacity: 0.9;">Join contests and compete with other players</p>
    </div>
  </section>

  <!-- MAIN CONTENT -->
  <section style="padding: 40px 20px; background: var(--light-gray); min-height: 100vh;">
    <div class="container" style="max-width: 1000px;">
      <!-- FILTER TABS -->
      <div style="display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap;">
        <button class="btn btn-primary" onclick="filterContests('all')">All Contests</button>
        <button class="btn btn-secondary" onclick="filterContests('open')">Open</button>
        <button class="btn btn-secondary" onclick="filterContests('live')">Live</button>
        <button class="btn btn-secondary" onclick="filterContests('completed')">Completed</button>
      </div>

      <!-- CONTESTS GRID -->
      <div id="contestsContainer" class="grid grid-2">
        <div class="spinner" style="grid-column: 1 / -1;"></div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>KEMETION</h3>
        <p style="opacity: 0.8;">100% Free Fantasy Cricket Platform</p>
      </div>
      <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="/pages/how-to-play.html">How to Play</a>
        <a href="/pages/about.html">About Us</a>
        <a href="/pages/contact.html">Contact</a>
        <a href="/pages/faq.html">FAQ</a>
      </div>
      <div class="footer-section">
        <h3>Legal</h3>
        <a href="/pages/terms.html">Terms & Conditions</a>
        <a href="/pages/privacy.html">Privacy Policy</a>
        <a href="/pages/responsible-gaming.html">Responsible Gaming</a>
      </div>
      <div class="footer-section">
        <h3>Contact</h3>
        <p style="opacity: 0.8;">Email: support@kemetionplay.com</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2026 KEMETION PRIVATE LIMITED. All rights reserved.</p>
    </div>
  </footer>

  <script src="../js/main.js"></script>
  <script>
    // Sample contests data
    const contestsData = [
      {
        id: 1,
        name: 'India vs Australia T20',
        match: 'India vs Australia',
        status: 'open',
        participants: 245,
        maxParticipants: 500,
        prizePool: '1000 Points',
        entryFee: 'Free',
        startTime: '2026-01-05T15:30:00'
      },
      {
        id: 2,
        name: 'Pakistan vs England ODI',
        match: 'Pakistan vs England',
        status: 'open',
        participants: 189,
        maxParticipants: 300,
        prizePool: '500 Points',
        entryFee: 'Free',
        startTime: '2026-01-05T18:00:00'
      },
      {
        id: 3,
        name: 'West Indies vs Sri Lanka',
        match: 'West Indies vs Sri Lanka',
        status: 'live',
        participants: 312,
        maxParticipants: 500,
        prizePool: '2000 Points',
        entryFee: 'Free',
        startTime: '2026-01-05T12:00:00'
      },
      {
        id: 4,
        name: 'South Africa vs New Zealand',
        match: 'South Africa vs New Zealand',
        status: 'completed',
        participants: 425,
        maxParticipants: 500,
        prizePool: '3000 Points',
        entryFee: 'Free',
        startTime: '2026-01-04T10:00:00'
      },
      {
        id: 5,
        name: 'Australia vs England T20',
        match: 'Australia vs England',
        status: 'open',
        participants: 156,
        maxParticipants: 400,
        prizePool: '1500 Points',
        entryFee: 'Free',
        startTime: '2026-01-06T14:00:00'
      },
      {
        id: 6,
        name: 'India vs Pakistan Super',
        match: 'India vs Pakistan',
        status: 'open',
        participants: 398,
        maxParticipants: 500,
        prizePool: '5000 Points',
        entryFee: 'Free',
        startTime: '2026-01-07T18:00:00'
      }
    ];

    let currentFilter = 'all';

    function filterContests(filter) {
      currentFilter = filter;
      displayContests();

      // Update button styles
      document.querySelectorAll('button').forEach(btn => {
        if (btn.textContent.toLowerCase().includes(filter) || (filter === 'all' && btn.textContent === 'All Contests')) {
          btn.classList.remove('btn-secondary');
          btn.classList.add('btn-primary');
        } else {
          btn.classList.remove('btn-primary');
          btn.classList.add('btn-secondary');
        }
      });
    }

    function displayContests() {
      const container = document.getElementById('contestsContainer');
      let filtered = contestsData;

      if (currentFilter !== 'all') {
        filtered = contestsData.filter(c => c.status === currentFilter);
      }

      if (filtered.length === 0) {
        container.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--text-light);">No contests found.</p>';
        return;
      }

      container.innerHTML = filtered.map(contest => `
        <div class="card">
          <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
            <div>
              <h3 style="color: var(--primary-blue); margin-bottom: 5px;">${contest.name}</h3>
              <p style="color: var(--text-light); font-size: 14px;">${contest.match}</p>
            </div>
            <span class="match-status status-${contest.status}" style="white-space: nowrap;">${contest.status.toUpperCase()}</span>
          </div>

          <div style="background: var(--light-gray); padding: 15px; border-radius: 5px; margin-bottom: 15px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span style="color: var(--text-light);">Participants:</span>
              <span style="font-weight: 600;">${contest.participants}/${contest.maxParticipants}</span>
            </div>
            <div style="width: 100%; background: var(--border-color); border-radius: 3px; height: 8px; overflow: hidden;">
              <div style="background: var(--primary-orange); height: 100%; width: ${(contest.participants / contest.maxParticipants) * 100}%;"></div>
            </div>
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
            <div>
              <p style="color: var(--text-light); font-size: 12px;">Prize Pool</p>
              <p style="font-weight: 700; color: var(--primary-orange);">${contest.prizePool}</p>
            </div>
            <div>
              <p style="color: var(--text-light); font-size: 12px;">Entry Fee</p>
              <p style="font-weight: 700; color: var(--success-green);">${contest.entryFee}</p>
            </div>
          </div>

          <div style="border-top: 1px solid var(--border-color); padding-top: 15px; display: flex; gap: 10px;">
            <button onclick="joinContest(${contest.id})" class="btn btn-primary" style="flex: 1;">
              ${contest.status === 'completed' ? 'View Results' : 'Join Contest'}
            </button>
            <button onclick="viewDetails(${contest.id})" class="btn btn-secondary" style="flex: 1;">Details</button>
          </div>
        </div>
      `).join('');
    }

    function joinContest(contestId) {
      const contest = contestsData.find(c => c.id === contestId);
      if (contest.status === 'completed') {
        showAlert('This contest has ended', 'info');
      } else if (contest.participants >= contest.maxParticipants) {
        showAlert('This contest is full', 'error');
      } else {
        showAlert('Joined contest: ' + contest.name, 'success');
      }
    }

    function viewDetails(contestId) {
      const contest = contestsData.find(c => c.id === contestId);
      showAlert('Contest: ' + contest.name + ' | Participants: ' + contest.participants + '/' + contest.maxParticipants, 'info');
    }

    // Load contests on page load
    document.addEventListener('DOMContentLoaded', function() {
      displayContests();
    });
  </script>
</body>
</html>
